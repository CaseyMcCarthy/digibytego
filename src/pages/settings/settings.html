<ion-header>
  <ion-navbar>
    <ion-title>{{'Settings' | translate}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content no-bounce>
  <ion-list>
    <ion-item-divider></ion-item-divider>
    <button ion-item (click)="openAddressBookPage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-address-book.svg" width="22">
      </ion-icon>
      <span translate>Address book</span>
    </button>

    <button ion-item (click)="openHelpExternalLink()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-help-support.svg" width="22">
      </ion-icon>
      <span translate>Help &amp; support</span>
    </button>


    <button ion-item *ngIf="isCordova" (click)="openFeedbackCompletePage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-heart.svg" width="22">
      </ion-icon>
      <span translate>Share</span> {{ appName }}
    </button>

    <ion-item-divider>{{'Preferences' | translate}}</ion-item-divider>

    <button ion-item (click)="openLanguagePage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-language.svg" width="22">
      </ion-icon>
      <ion-label>
        <span translate>Language</span>
      </ion-label>
      <ion-note *ngIf="currentLanguageName" item-end>
        {{ currentLanguageName }}
      </ion-note>
    </button>

    <button ion-item (click)="openAltCurrencyPage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-alternative-currency.svg" width="22">
      </ion-icon>
      <ion-label>
        {{'Alternative currency' | translate}}
      </ion-label>
      <ion-note *ngIf="selectedAlternative" item-end>
        {{ selectedAlternative.name }}
      </ion-note>
    </button>

    <button ion-item (click)="openFeePolicyPage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-network.svg" width="22">
      </ion-icon>
      <ion-label>
        {{'DigiByte network fee policy' | translate}}
      </ion-label>
    </button>

    <button ion-item (click)="openLockPage()">
      <ion-icon class="custom-icon" *ngIf="lockMethod != 'disabled'" name="ios-lock-outline" item-start></ion-icon>
      <ion-icon class="custom-icon" *ngIf="lockMethod == 'disabled'" name="ios-unlock-outline" item-start></ion-icon>
      <ion-label>
        {{'Lock' | translate}}
      </ion-label>
      <ion-note item-end>
        {{lockMethod}}
      </ion-note>
    </button>

    <ion-item-divider *ngIf="wallets.length">{{'DigiByte Wallets' | translate}}</ion-item-divider>

    <button ion-item *ngFor="let wallet of wallets" (click)="openWalletSettingsPage(wallet.credentials.walletId)">
      <ion-icon item-start>
        <img *ngIf="wallet.network == 'testnet'" [ngStyle]="{'background-color': wallet.color}" src="assets/img/icon-wallet-testnet.svg" class="icon-wallet" />
        <img *ngIf="wallet.network != 'testnet'" [ngStyle]="{'background-color': wallet.color}" src="assets/img/icon-wallet.svg" class="icon-wallet" />
      </ion-icon>
      <span class="item-title">{{wallet.name}}</span>
      <ion-note class="wallet-warning" *ngIf="!wallet.isComplete()" item-end>
        {{'Incomplete' | translate}}
      </ion-note>
      <ion-note class="wallet-warning" *ngIf="wallet.isComplete() && wallet.needsBackup" item-end>
        {{'Needs backup' | translate}}
      </ion-note>
      <ion-note *ngIf="wallet.credentials.m > 1 && wallet.isComplete() && !wallet.needsBackup" item-end>
        {{wallet.credentials.m}}-{{wallet.credentials.n}}
      </ion-note>
    </button>


    <ion-item-divider>
      {{'Services' | translate}}
    </ion-item-divider>

    <button ion-item *ngFor="let integration of integrationServices" (click)="openSettingIntegration(integration.name)">
      <ion-icon item-start>
        <img src="{{integration.icon}}" class="icon-services" />
      </ion-icon>
      <span>{{integration.title}}</span>
      <ion-note item-end>
        <span *ngIf="integration.linked" translate>Linked</span>
        <span *ngIf="!integration.linked">
          {{integration.show ? ('On'|translate) : ('Off'|translate)}}
        </span>
      </ion-note>
    </button>

    <ion-item-divider>{{'More' | translate}}</ion-item-divider>

    <button ion-item (click)="openAdvancedPage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-advanced.svg" width="22">
      </ion-icon>
      <span translate>Advanced</span>
    </button>

    <button ion-item (click)="openAboutPage()">
      <ion-icon item-start>
        <img src="assets/img/settings-icons/icon-about.svg" width="22">
      </ion-icon>
      <span translate>About</span> {{appName}}
    </button>
    <ion-item-divider></ion-item-divider>
  </ion-list>
</ion-content>